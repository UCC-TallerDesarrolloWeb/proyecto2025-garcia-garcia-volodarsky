<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chicago Bulls – Partidos</title>
    <meta name="author" content="Garcia, Garcia, Volodarsky" />
    <meta
      name="description"
      content="Listado de partidos de la temporada de Chicago Bulls con filtros por mes."
    />
    <meta name="keywords" content="Chicago Bulls, NBA, partidos, calendario" />
    <link rel="icon" href="imagenes/favicon.png" type="image/png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- HEADER -->
    <div id="header"></div>

    <main class="container">
      <section id="calendario" class="cal-listing" aria-labelledby="titulo-cal">
        <h1 id="titulo-cal">Partidos de la temporada</h1>

        <!-- Filtros -->
        <form
          class="cal-filters"
          action="#"
          method="get"
          aria-label="Filtrar partidos"
        >
          <label for="mes">Mes</label>
          <select id="mes" name="mes">
            <option value="">Todos</option>
            <option value="10">Octubre</option>
            <option value="11">Noviembre</option>
            <option value="12">Diciembre</option>
            <option value="1">Enero</option>
            <option value="2">Febrero</option>
            <option value="3">Marzo</option>
            <option value="4">Abril</option>
          </select>
        </form>

        <!-- Contador -->
        <p class="cal-count" aria-live="polite">
          Mostrando <span id="calCount">0</span> partidos
        </p>

        <!-- Lista de Partidos -->
        <ul id="partidos" class="games-list">
          <li class="game-card" data-month="10">
            <div class="game-left">
              <div class="game-date">
                <span class="day">12</span><span class="mon">OCT</span>
              </div>
              <div class="game-vs">
                <strong>CHI</strong>
                <span class="vs">vs</span>
                <span class="opp">LAL</span>
              </div>
              <span class="team-names">Chicago Bulls - Los Angeles Lakers</span>
              <div class="meta">United Center · Chicago</div>
            </div>
            <div class="game-right">
              <span class="time">21:00</span>
              <a
                class="btn primary"
                href="#"
                aria-label="Ver detalles del partido"
                >Detalles</a
              >
            </div>
          </li>
          <li class="game-card" data-month="10">
            <div class="game-left">
              <div class="game-date">
                <span class="day">18</span><span class="mon">OCT</span>
              </div>
              <div class="game-vs">
                <strong>CHI</strong>
                <span class="vs">@</span>
                <span class="opp">BOS</span>
              </div>
              <span class="team-names">Chicago Bulls - Boston Celtics</span>
              <div class="meta">TD Garden · Boston</div>
            </div>
            <div class="game-right">
              <span class="time">20:30</span>
              <a class="btn primary" href="#">Detalles</a>
            </div>
          </li>
          <li class="game-card" data-month="11">
            <div class="game-left">
              <div class="game-date">
                <span class="day">05</span><span class="mon">NOV</span>
              </div>
              <div class="game-vs">
                <strong>CHI</strong>
                <span class="vs">@</span>
                <span class="opp">MIA</span>
              </div>
              <span class="team-names">Chicago Bulls - Miami Heat</span>
              <div class="meta">Kaseya Center · Miami</div>
            </div>
            <div class="game-right">
              <span class="time">21:30</span>
              <a class="btn primary" href="#">Detalles</a>
            </div>
          </li>
          <li class="game-card" data-month="12">
            <div class="game-left">
              <div class="game-date">
                <span class="day">22</span><span class="mon">DIC</span>
              </div>
              <div class="game-vs">
                <strong>CHI</strong>
                <span class="vs">@</span>
                <span class="opp">NYK</span>
              </div>
              <span class="team-names">Chicago Bulls - New York Knicks</span>
              <div class="meta">Madison Square Garden · New York</div>
            </div>
            <div class="game-right">
              <span class="time">20:00</span>
              <a class="btn primary" href="#">Detalles</a>
            </div>
          </li>
        </ul>

        <!-- Mensaje vacío -->
        <p id="calEmpty" class="cal-empty" hidden>
          No hay partidos que coincidan con el filtro.
        </p>
      </section>

      <!-- SPONSORS -->
      <div id="sponsors"></div>
    </main>

    <!-- FOOTER -->
    <div id="footer"></div>

    <script>
      // Inserta los componentes externos
      fetch("header.html")
        .then((r) => r.text())
        .then((t) => (document.getElementById("header").innerHTML = t));
      fetch("sponsors.html")
        .then((r) => r.text())
        .then((t) => (document.getElementById("sponsors").innerHTML = t));
      fetch("footer.html")
        .then((r) => r.text())
        .then((t) => (document.getElementById("footer").innerHTML = t));

      // Filtrado por mes
      document.getElementById("mes").addEventListener("change", function () {
        const mes = this.value;
        let count = 0;
        document.querySelectorAll(".game-card").forEach((card) => {
          if (!mes || card.getAttribute("data-month") === mes) {
            card.style.display = "";
            count++;
          } else {
            card.style.display = "none";
          }
        });
        document.getElementById("calCount").textContent = count;
        document.getElementById("calEmpty").hidden = count > 0;
      });

      // Inicializa contador al cargar
      window.addEventListener("DOMContentLoaded", function () {
        const total = document.querySelectorAll(".game-card").length;
        document.getElementById("calCount").textContent = total;
      });
    </script>
    <script src="js/script.js"></script>
  </body>
</html>
